function progressbar(e){function a(e,t,r){o.style.width=t+"%";var s=null;if(i=="percentage"){s=t+"%"}else{s=e+" / "+n}if(r){s+=" "+r}u.innerHTML=s}function f(e,t,n){return Math.min(Math.max(e,t),n)}var t=0,n=100,r=t,i="percentage",s="";e.className=e.className+" progressbar";var o=document.createElement("span");o.className="bar";e.appendChild(o);var u=document.createElement("span");u.className="value";u.innerHTML="&nbsp;";e.appendChild(u);this.setMinMax=function(e,r){t=e;n=r};this.setMode=function(e){if(e=="absolute"||e=="percentage"){i=e}this.progress(r)};this.progress=function(e,i){r=f(parseFloat(e),t,n);var s=(r-t)/(n-t)*100;a(parseFloat(r.toFixed(2)),Math.floor(s),i);return parseFloat(s.toFixed(2))};this.reset=function(){this.progress(t)};s=e.getAttribute("data-min");t=s?parseFloat(s):t;s=e.getAttribute("data-max");n=s?parseFloat(s):n;s=e.getAttribute("data-mode");if(s){this.setMode(s)}this.reset();return this}